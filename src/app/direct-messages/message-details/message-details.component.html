<section id="basic-form-layouts">
	<div class="row text-left">
		<div class="col-sm-12">
			<div class="content-header">MessageDetails</div>
		</div>
	</div>
</section>
<div class="email-application">
	<div class="email-app-content row">
		<div class="email-search-box w-100 bg-white p-2">
			<div class="media">
				<span class="email-app-sidebar-toggle ft-align-justify font-large-1 mr-2 d-xl-none"></span>
				<div class="media-body">
					<input type="text" class="form-control round" placeholder="search for emails">
				</div>
			</div>
		</div>
		<div class="email-app-content-area w-100">
			<div class="email-app-list-mails p-0">
				<div class="email-app-list">
					<div id="users-list">
						<div class="list-group">
							<div class="users-list-padding">
								<a [ngClass]="!mail.isDefault ? 'list-group-item list-group-item-action no-border' : 'list-group-item list-group-item-action bg-blue-grey bg-lighten-5 border-right-primary border-right-2'"
									*ngFor="let mail of mail" (click)="DisplayMessage($event, [mail.mailId])">
									<span class="media">
										<span class="avatar avatar-md mr-2">
											<span *ngIf="!mail.hasImage"
												class="media-object rounded-circle text-circle d-flex mr-2 ml-0 justify-content-center align-items-center + ' ' + {{mail.imageClass}}">{{ mail.imageText }}</span>
											<img *ngIf="mail.hasImage" class="media-object rounded-circle" [src]="mail.imagePath"
												alt="Generic placeholder image">
										</span>
										<div class="media-body text-left">
											<h6
												[ngClass]="mail.isRead === false ? 'list-group-item-heading text-bold-400' : 'list-group-item-heading' ">
												{{ mail.mailFrom }}
												<span class="float-right">
													<i class="fa-paperclip fa" *ngIf="mail.hasAttachment"></i>
													<span
														[ngClass]="mail.isRead === false ? 'font-small-2 primary' : 'font-small-2 float-right'">{{ mail.time }}</span>
												</span>
											</h6>
											<p
												[ngClass]="mail.isRead === false ? 'list-group-item-text text-truncate text-bold-500' : 'list-group-item-text text-truncate' ">
												{{ mail.subject }}</p>
											<p class="list-group-item-text">{{ mail.body }}
												<span class="float-right primary" *ngIf="mail.hasLabel">
													<span class="badge mr-1 + ' ' + {{mail.labelClass}}">{{ mail.labelType }}</span>
													<i
														[ngClass]="mail.isImportant === false ? 'font-medium-1 ft-star blue-grey lighten-3' : 'font-medium-1 ft-star warning'"></i>
												</span>
												<span class="float-right primary" *ngIf="!mail.hasLabel">
													<i class="font-medium-1 ft-star blue-grey lighten-3"></i>
												</span>
											</p>

										</div>
									</span>
								</a>
								<p class="primary text-center" *ngIf="mail.length === 0">There are no messages!</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="email-app-mail-content">
				<div class="email-app-mail-content-detail" *ngIf="isMessageSelected">
					<div class="email-app-options card-block">
						<div class="row d-md-none">
							<button class="btn btn-raised btn-primary ml-2 back-to-inbox">
								<i class="fa fa-angle-left"></i> Back to inbox</button>
						</div>
						<div class="row">
							<div class="col-sm-6 col-12 text-left">
								<div class="btn-group" role="group" aria-label="Basic example">
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Replay">
										<i class="fa fa-reply"></i>
									</button>
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Replay All">
										<i class="fa fa-reply-all"></i>
									</button>
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Report SPAM">
										<i class="ft-alert-octagon"></i>
									</button>
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Delete">
										<i class="ft-trash-2"></i>
									</button>
								</div>
							</div>
							<div class="col-sm-6 col-12 text-right">
								<div class="btn-group" role="group" aria-label="Basic example">
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Previous">
										<i class="fa fa-angle-left"></i>
									</button>
									<button type="button" class="btn btn-sm btn-outline-secondary" data-toggle="tooltip"
										data-placement="top" data-original-title="Next">
										<i class="fa fa-angle-right"></i>
									</button>
								</div>
								<div class="btn-group ml-1">
									<div ngbDropdown placement="bottom-right" class="d-inline-block">
										<button class="btn btn-sm btn-outline-secondary" id="dropdownBasic1" ngbDropdownToggle>More</button>
										<div ngbDropdownMenu aria-labelledby="dropdownBasic1">
											<button class="dropdown-item">Mark as unread</button>
											<button class="dropdown-item">Mark as unimportant</button>
											<button class="dropdown-item">Add star</button>
											<button class="dropdown-item">Add to task</button>
											<div class="dropdown-divider"></div>
											<button class="dropdown-item">Filter mail</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="email-app-title card-block">
						<h3 class="list-group-item-heading text-left">{{message.subject}}</h3>
						<div class="row">
							<div class="col-sm-6 col-12 text-left">
								<span class="primary">
									<span class="badge badge-primary ">Previous</span>
								</span>
							</div>
							<div class="col-sm-6 col-12 text-right">
								<i class="float-right font-medium-3 ft-star warning"></i>
							</div>
						</div>
					</div>

					<div *ngFor="let messageDetail of message.messages">
						<div id="headingCollapse2" class="card-header p-0">
							<a (click)="messageDetail.collapsed = !messageDetail.collapsed"
								[attr.aria-expanded]="!messageDetail.collapsed" [attr.aria-controls]="messageDetail.messageId">
								<div class="email-app-sender list-group-item list-group-item-action no-border">
									<div class="media">
										<span class="avatar avatar-md mr-2">
											<span *ngIf="!messageDetail.hasAvatar"
												class="media-object rounded-circle text-circle d-flex mr-2 justify-content-center align-items-center + ' ' + {{messageDetail.avatarClass}}">{{ messageDetail.avatarText }}</span>
											<img *ngIf="messageDetail.hasAvatar" class="media-object rounded-circle"
												[src]="messageDetail.avatarPath" alt="Generic placeholder image">
										</span>
										<div class="media-body text-left">
											<h6 class="list-group-item-heading">{{messageDetail.mailFrom}}</h6>
											<p class="list-group-item-text">to {{messageDetail.mailTo}}
												<span class="primary">{{messageDetail.time}}</span>
												<span class="float-right">
													<i class="fa fa-reply mr-1"></i>
													<i class="fa fa-arrow-right mr-1"></i>
													<i class="fa fa-ellipsis-v"></i>
												</span>
											</p>

										</div>
									</div>
								</div>
							</a>
						</div>
						<div [id]="messageDetail.messageId" [ngbCollapse]="messageDetail.collapsed">
							<div class="card-body">
								<div class="email-app-text card-block">
									<div class="email-app-message text-left">
										<div [innerHTML]="messageDetail.body">
										</div>
										<div *ngIf="messageDetail.hasAttachment">
											<p class="primary">Attachments:</p>
											<div *ngFor="let attachment of messageDetail.attachments" class="float-left mr-2">
												<img class="media-object width-100" [src]="attachment.url" alt="Generic placeholder image">
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="email-app-text-action card-block">
						</div>
					</div>

				</div>
				<div class="email-app-mail-content-detail" *ngIf="!isMessageSelected">
					<p class="primary text-center">Select a message to read</p>
				</div>
			</div>
		</div>
	</div>
</div>